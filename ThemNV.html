<!DOCTYPE html>
<html>

<head>
    <title>Thêm Nhân Viên</title>
    <link rel="stylesheet" href="ThemNV.css">
</head>

<body>

    <div class="container">
        <h1>Thêm Nhân Viên</h1>

        <a href="QuanLyQuanCoffee.html" class="home">Trang chủ</a>

        <form onsubmit="themNhanVien(event)">
            <div class="form-group">
                <label>Mã nhân viên:</label>
                <input type="text" id="maNV" required>
            </div>

            <div class="form-group">
                <label>Họ tên:</label>
                <input type="text" id="hoTen" required>
            </div>

            <div class="form-group">
                <label>Số điện thoại:</label>
                <input type="tel" id="sdt" required>
            </div>

            <div class="form-group">
                <label>Chức vụ:</label>
                <input type="text" id="chucVu" required>
            </div>

            <button type="submit">Thêm Nhân Viên</button>
        </form>
    </div>

    <script>
        function themNhanVien(event) {
            event.preventDefault(); // không reload trang

            // Lấy dữ liệu từ form
            let maNV = document.getElementById("maNV").value.trim();
            let hoTen = document.getElementById("hoTen").value.trim();
            let sdt = document.getElementById("sdt").value.trim();
            let chucVu = document.getElementById("chucVu").value.trim();

            // Kiểm tra dữ liệu
            if (maNV === "" || hoTen === "" || sdt === "" || chucVu === "") {
                alert("Vui lòng nhập đầy đủ thông tin!");
                return;
            }

            if (isNaN(sdt)) {
                alert("Số điện thoại phải là số!");
                return;
            }

            // Tạo object nhân viên
            let nhanVien = {
                maNV: maNV,
                hoTen: hoTen,
                sdt: sdt,
                chucVu: chucVu
            };

            // Lấy danh sách NV từ localStorage
            let dsNV = JSON.parse(localStorage.getItem("dsNhanVien")) || [];

            // Kiểm tra trùng mã NV
            let trungMa = dsNV.some(nv => nv.maNV === maNV);
            if (trungMa) {
                alert("Mã nhân viên đã tồn tại!");
                return;
            }

            // Thêm vào danh sách
            dsNV.push(nhanVien);

            // Lưu lại localStorage
            localStorage.setItem("dsNhanVien", JSON.stringify(dsNV));

            alert("Thêm nhân viên thành công!");

            // Quay về trang chủ
            window.location.href = "index.html";
        }
    </script>

</body>

</html>